{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from \"react\";\nimport FirebaseContext from \"../context/firebase\";\nexport default function useAuthListener() {\n  _s();\n\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"authUser\")));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  console.log(firebase);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      if (authUser) {\n        localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem(\"authUser\");\n        setUser(null);\n      }\n    });\n    return () => listener();\n  }, [firebase]);\n  return {\n    user\n  };\n}\n\n_s(useAuthListener, \"QbeyeTuXls5DL/c+0Dx9k4nXk5Y=\");","map":{"version":3,"sources":["/Users/vijayabalaji/Desktop/challenges/Instagram/instagram/src/hooks/use-auth-listener.js"],"names":["useState","useEffect","useContext","FirebaseContext","useAuthListener","user","setUser","JSON","parse","localStorage","getItem","firebase","console","log","listener","auth","onAuthStateChanged","authUser","setItem","stringify","removeItem"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACxC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAC9BO,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAD8B,CAAhC;AAGA,QAAM;AAAEC,IAAAA;AAAF,MAAeT,UAAU,CAACC,eAAD,CAA/B;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,QAAQ,GAAGH,QAAQ,CAACI,IAAT,GAAgBC,kBAAhB,CAAoCC,QAAD,IAAc;AAChE,UAAIA,QAAJ,EAAc;AACZR,QAAAA,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCX,IAAI,CAACY,SAAL,CAAeF,QAAf,CAAjC;AACAX,QAAAA,OAAO,CAACW,QAAD,CAAP;AACD,OAHD,MAGO;AACLR,QAAAA,YAAY,CAACW,UAAb,CAAwB,UAAxB;AACAd,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,KARgB,CAAjB;AAUA,WAAO,MAAMQ,QAAQ,EAArB;AACD,GAZQ,EAYN,CAACH,QAAD,CAZM,CAAT;AAcA,SAAO;AAAEN,IAAAA;AAAF,GAAP;AACD;;GAtBuBD,e","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport FirebaseContext from \"../context/firebase\";\n\nexport default function useAuthListener() {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"authUser\"))\n  );\n  const { firebase } = useContext(FirebaseContext);\n  console.log(firebase);\n\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged((authUser) => {\n      if (authUser) {\n        localStorage.setItem(\"authUser\", JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem(\"authUser\");\n        setUser(null);\n      }\n    });\n\n    return () => listener();\n  }, [firebase]);\n\n  return { user };\n}\n"]},"metadata":{},"sourceType":"module"}